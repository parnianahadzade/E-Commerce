import{R as g,$ as M,d as k,r as o,e as ne,_ as A,f as _,g as oe}from"./index-C88s8bSQ.js";import{$ as y,a as P,b as V,c as re,d as C}from"./index-DSDwgsHt.js";function ce(e){const t=e+"CollectionProvider",[r,n]=y(t),[a,f]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=p=>{const{scope:d,children:I}=p,T=g.useRef(null),b=g.useRef(new Map).current;return g.createElement(a,{scope:d,itemMap:b,collectionRef:T},I)},$=e+"CollectionSlot",l=g.forwardRef((p,d)=>{const{scope:I,children:T}=p,b=f($,I),m=M(d,b.collectionRef);return g.createElement(k,{ref:m},T)}),c=e+"CollectionItemSlot",i="data-radix-collection-item",s=g.forwardRef((p,d)=>{const{scope:I,children:T,...b}=p,m=g.useRef(null),N=M(d,m),R=f(c,I);return g.useEffect(()=>(R.itemMap.set(m,{ref:m,...b}),()=>void R.itemMap.delete(m))),g.createElement(k,{[i]:"",ref:N},T)});function v(p){const d=f(e+"CollectionConsumer",p);return g.useCallback(()=>{const T=d.collectionRef.current;if(!T)return[];const b=Array.from(T.querySelectorAll(`[${i}]`));return Array.from(d.itemMap.values()).sort((R,F)=>b.indexOf(R.ref.current)-b.indexOf(F.ref.current))},[d.collectionRef,d.itemMap])}return[{Provider:u,Slot:l,ItemSlot:s},v,n]}const ae=ne.useId||(()=>{});let se=0;function K(e){const[t,r]=o.useState(ae());return P(()=>{r(n=>n??String(se++))},[e]),t?`radix-${t}`:""}const ie=o.createContext(void 0);function B(e){const t=o.useContext(ie);return e||t||"ltr"}const w="rovingFocusGroup.onEntryFocus",de={bubbles:!1,cancelable:!0},D="RovingFocusGroup",[O,Y,fe]=ce(D),[ue,q]=y(D,[fe]),[le,be]=ue(D),$e=o.forwardRef((e,t)=>o.createElement(O.Provider,{scope:e.__scopeRovingFocusGroup},o.createElement(O.Slot,{scope:e.__scopeRovingFocusGroup},o.createElement(me,A({},e,{ref:t}))))),me=o.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:f,currentTabStopId:u,defaultCurrentTabStopId:$,onCurrentTabStopIdChange:l,onEntryFocus:c,...i}=e,s=o.useRef(null),v=M(t,s),p=B(f),[d=null,I]=V({prop:u,defaultProp:$,onChange:l}),[T,b]=o.useState(!1),m=re(c),N=Y(r),R=o.useRef(!1),[F,U]=o.useState(0);return o.useEffect(()=>{const E=s.current;if(E)return E.addEventListener(w,m),()=>E.removeEventListener(w,m)},[m]),o.createElement(le,{scope:r,orientation:n,dir:p,loop:a,currentTabStopId:d,onItemFocus:o.useCallback(E=>I(E),[I]),onItemShiftTab:o.useCallback(()=>b(!0),[]),onFocusableItemAdd:o.useCallback(()=>U(E=>E+1),[]),onFocusableItemRemove:o.useCallback(()=>U(E=>E-1),[])},o.createElement(_.div,A({tabIndex:T||F===0?-1:0,"data-orientation":n},i,{ref:v,style:{outline:"none",...e.style},onMouseDown:C(e.onMouseDown,()=>{R.current=!0}),onFocus:C(e.onFocus,E=>{const X=!R.current;if(E.target===E.currentTarget&&X&&!T){const G=new CustomEvent(w,de);if(E.currentTarget.dispatchEvent(G),!G.defaultPrevented){const h=N().filter(x=>x.focusable),Z=h.find(x=>x.active),ee=h.find(x=>x.id===d),te=[Z,ee,...h].filter(Boolean).map(x=>x.ref.current);z(te)}}R.current=!1}),onBlur:C(e.onBlur,()=>b(!1))})))}),pe="RovingFocusGroupItem",ve=o.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:f,...u}=e,$=K(),l=f||$,c=be(pe,r),i=c.currentTabStopId===l,s=Y(r),{onFocusableItemAdd:v,onFocusableItemRemove:p}=c;return o.useEffect(()=>{if(n)return v(),()=>p()},[n,v,p]),o.createElement(O.ItemSlot,{scope:r,id:l,focusable:n,active:a},o.createElement(_.span,A({tabIndex:i?0:-1,"data-orientation":c.orientation},u,{ref:t,onMouseDown:C(e.onMouseDown,d=>{n?c.onItemFocus(l):d.preventDefault()}),onFocus:C(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:C(e.onKeyDown,d=>{if(d.key==="Tab"&&d.shiftKey){c.onItemShiftTab();return}if(d.target!==d.currentTarget)return;const I=Te(d,c.orientation,c.dir);if(I!==void 0){d.preventDefault();let b=s().filter(m=>m.focusable).map(m=>m.ref.current);if(I==="last")b.reverse();else if(I==="prev"||I==="next"){I==="prev"&&b.reverse();const m=b.indexOf(d.currentTarget);b=c.loop?ge(b,m+1):b.slice(m+1)}setTimeout(()=>z(b))}})})))}),Ie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ee(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Te(e,t,r){const n=Ee(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ie[n]}function z(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function ge(e,t){return e.map((r,n)=>e[(t+n)%e.length])}const Ce=$e,Ae=ve;function Re(e,t){return o.useReducer((r,n)=>{const a=t[r][n];return a??r},e)}const H=e=>{const{present:t,children:r}=e,n=xe(t),a=typeof r=="function"?r({present:n.isPresent}):o.Children.only(r),f=M(n.ref,a.ref);return typeof r=="function"||n.isPresent?o.cloneElement(a,{ref:f}):null};H.displayName="Presence";function xe(e){const[t,r]=o.useState(),n=o.useRef({}),a=o.useRef(e),f=o.useRef("none"),u=e?"mounted":"unmounted",[$,l]=Re(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const c=S(n.current);f.current=$==="mounted"?c:"none"},[$]),P(()=>{const c=n.current,i=a.current;if(i!==e){const v=f.current,p=S(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(i&&v!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),P(()=>{if(t){const c=s=>{const p=S(n.current).includes(s.animationName);s.target===t&&p&&oe.flushSync(()=>l("ANIMATION_END"))},i=s=>{s.target===t&&(f.current=S(n.current))};return t.addEventListener("animationstart",i),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",i),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes($),ref:o.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function S(e){return(e==null?void 0:e.animationName)||"none"}const j="Tabs",[_e,Ue]=y(j,[q]),J=q(),[Ne,L]=_e(j),Se=o.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:f,orientation:u="horizontal",dir:$,activationMode:l="automatic",...c}=e,i=B($),[s,v]=V({prop:n,onChange:a,defaultProp:f});return o.createElement(Ne,{scope:r,baseId:K(),value:s,onValueChange:v,orientation:u,dir:i,activationMode:l},o.createElement(_.div,A({dir:i,"data-orientation":u},c,{ref:t})))}),Me="TabsList",Fe=o.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,f=L(Me,r),u=J(r);return o.createElement(Ce,A({asChild:!0},u,{orientation:f.orientation,dir:f.dir,loop:n}),o.createElement(_.div,A({role:"tablist","aria-orientation":f.orientation},a,{ref:t})))}),he="TabsTrigger",we=o.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...f}=e,u=L(he,r),$=J(r),l=Q(u.baseId,n),c=W(u.baseId,n),i=n===u.value;return o.createElement(Ae,A({asChild:!0},$,{focusable:!a,active:i}),o.createElement(_.button,A({type:"button",role:"tab","aria-selected":i,"aria-controls":c,"data-state":i?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l},f,{ref:t,onMouseDown:C(e.onMouseDown,s=>{!a&&s.button===0&&s.ctrlKey===!1?u.onValueChange(n):s.preventDefault()}),onKeyDown:C(e.onKeyDown,s=>{[" ","Enter"].includes(s.key)&&u.onValueChange(n)}),onFocus:C(e.onFocus,()=>{const s=u.activationMode!=="manual";!i&&!a&&s&&u.onValueChange(n)})})))}),Pe="TabsContent",Oe=o.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:f,...u}=e,$=L(Pe,r),l=Q($.baseId,n),c=W($.baseId,n),i=n===$.value,s=o.useRef(i);return o.useEffect(()=>{const v=requestAnimationFrame(()=>s.current=!1);return()=>cancelAnimationFrame(v)},[]),o.createElement(H,{present:a||i},({present:v})=>o.createElement(_.div,A({"data-state":i?"active":"inactive","data-orientation":$.orientation,role:"tabpanel","aria-labelledby":l,hidden:!v,id:c,tabIndex:0},u,{ref:t,style:{...e.style,animationDuration:s.current?"0s":void 0}}),v&&f))});function Q(e,t){return`${e}-trigger-${t}`}function W(e,t){return`${e}-content-${t}`}const Ge=Se,ke=Fe,Ve=we,Ke=Oe;export{ke as $,Ve as a,Ke as b,Ge as c};
